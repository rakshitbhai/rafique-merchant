"use strict";(self.webpackChunkrafiq_merchant=self.webpackChunkrafiq_merchant||[]).push([[568],{8583:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var s=a(8),i=a(5043),r=a(3440),n=a(3546),l=a(111),c=a(7189),o=a(1051),d=a(4930);function u(e){const t=(0,d.M)(()=>(0,c.OQ)(e)),{isStatic:a}=(0,i.useContext)(o.Q);if(a){const[,a]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",a),[])}return t}var p=a(6744);var m=a(8412),h=a(293);function g(e,t){const a=u(t()),s=()=>a.set(t());return s(),(0,h.E)(()=>{const t=()=>m.Gt.preRender(s,!1,!0),a=e.map(e=>e.on("change",t));return()=>{a.forEach(e=>e()),(0,m.WG)(s)}}),a}function f(e,t,a,s){if("function"===typeof e)return function(e){c.bt.current=[],e();const t=g(c.bt.current,e);return c.bt.current=void 0,t}(e);const i="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,a=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],s=1+t<0||arguments.length<=1+t?void 0:arguments[1+t],i=2+t<0||arguments.length<=2+t?void 0:arguments[2+t],r=3+t<0||arguments.length<=3+t?void 0:arguments[3+t],n=(0,p.G)(s,i,r);return e?n(a):n}(t,a,s);return Array.isArray(e)?x(e,i):x([e],e=>{let[t]=e;return i(t)})}function x(e,t){const a=(0,d.M)(()=>[]);return g(e,()=>{a.length=0;const s=e.length;for(let t=0;t<s;t++)a[t]=e[t].get();return t(a)})}var b=a(9927),v=a(496),y=a(579);const j=[{id:1,title:"Skyline Penthouse",location:"Downtown Core",price:54e5,type:"Penthouse",beds:4,baths:5,size:6200,image:"https://images.unsplash.com/photo-1502005097973-6a7082348e28?auto=format&fit=crop&w=1600&q=80",blurb:"Glass-framed panoramic city vistas with private roof deck and spa."},{id:2,title:"Coastal Glass Villa",location:"Azure Coast",price:87e5,type:"Villa",beds:6,baths:7,size:9800,image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1600&q=80",blurb:"Seamless indoor-outdoor flow, infinity edge pool and ocean horizon."},{id:3,title:"Modern Heritage Estate",location:"Old Ridge",price:125e5,type:"Estate",beds:8,baths:9,size:15200,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=1600&q=80",blurb:"Restored classical detailing integrated with advanced sustainability systems."},{id:4,title:"Lakeview Retreat",location:"Emerald Lake",price:46e5,type:"Villa",beds:5,baths:5,size:7200,image:"https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?auto=format&fit=crop&w=1600&q=80",blurb:"Timber-accented serenity with private dock and cantilevered terrace."},{id:5,title:"Urban Luxe Loft",location:"Arts District",price:21e5,type:"Loft",beds:2,baths:2,size:2800,image:"https://images.unsplash.com/photo-1554995207-c18c203602cb?auto=format&fit=crop&w=1600&q=80",blurb:"Double-height volume, industrial beams, curated gallery illumination."},{id:6,title:"Desert Horizon Residence",location:"Sunspire Dunes",price:69e5,type:"Residence",beds:5,baths:6,size:8400,image:"https://images.unsplash.com/photo-1479839672679-a46483c0e7c8?auto=format&fit=crop&w=1600&q=80",blurb:"Thermal-mass architecture oriented for passive cooling and sunrise framing."}],w=e=>"$"+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),N=e=>{let{target:t,prefix:a="",duration:s=1400}=e;const[r,n]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=null;const a=t,i=t=>{e||(e=t);const r=Math.min(1,(t-e)/s),l=1-Math.pow(1-r,3);n(Math.round(0+(a-0)*l)),r<1&&requestAnimationFrame(i)};requestAnimationFrame(i)},[t,s]),(0,y.jsxs)("span",{children:[a,r.toLocaleString()]})},C=e=>{let{show:t,statsRef:a,total:s,count:i}=e;const n=(0,l.I)();return(0,y.jsx)(r.P.div,{ref:a,className:"portfolio-stats","aria-hidden":!t,variants:v.HI.cascadeParent,initial:"initial",animate:t?"animate":"initial",children:[{label:"Assets Curated",value:t?(0,y.jsx)(N,{target:i}):(0,y.jsx)("span",{children:"0"})},{label:"Aggregate Value",value:t?(0,y.jsx)(N,{target:s,prefix:"$"}):(0,y.jsx)("span",{children:"$0"})},{label:"Global Categories",value:t?(0,y.jsx)(N,{target:5}):(0,y.jsx)("span",{children:"0"})}].map(e=>(0,y.jsxs)(r.P.div,{className:"stat-block",variants:n?void 0:v.HI.cascadeItem,children:[(0,y.jsx)("label",{children:e.label}),e.value]},e.label))})},k=(0,i.memo)(e=>{let{property:t,index:a,feature:s=!1,onQuickView:n}=e;const{id:l,image:c,title:o,price:d,location:u,type:p,beds:m,baths:h,size:g}=t,[f,x]=(0,i.useState)(!1),b=c+"&q=10&blur=50",j=c;return(0,i.useEffect)(()=>{let e=!1;const t=new Image;return t.src=j,t.onload=()=>{e||x(!0)},()=>{e=!0}},[j]),(0,y.jsxs)(r.P.article,{className:"card glass-strong ".concat(s?"feature-card":""),"aria-labelledby":"prop-".concat(l,"-title"),variants:v.HI.propertyCard,layout:!0,whileHover:"hover",whileTap:"tap",style:{"--card-index":a},children:[!f&&(0,y.jsx)("div",{className:"card-skeleton",children:(0,y.jsx)("div",{className:"skel-shimmer"})}),(0,y.jsx)(r.P.div,{className:"card-media",variants:v.HI.propertyCardMedia,style:{backgroundImage:"url(".concat(f?j:b,")"),filter:f?"none":"blur(18px) saturate(120%)",transition:"filter 800ms ease"}}),(0,y.jsxs)("div",{className:"card-content",children:[(0,y.jsx)("span",{className:"badge",children:p}),(0,y.jsx)("h3",{id:"prop-".concat(l,"-title"),style:{margin:"0.9rem 0 .4rem",fontSize:s?"1.65rem":"1.25rem",fontWeight:500},children:o}),(0,y.jsx)("div",{className:"price",children:w(d)}),(0,y.jsx)("div",{className:"location",children:u}),(0,y.jsxs)("div",{className:"card-meta-row",children:[(0,y.jsxs)("span",{children:[m," BD"]}),(0,y.jsxs)("span",{children:[h," BA"]}),(0,y.jsxs)("span",{children:[g.toLocaleString()," SF"]})]})]}),(0,y.jsx)("button",{type:"button",className:"quick-view-tag","aria-label":"View details for ".concat(o),onClick:n,children:"View"})]})});k.displayName="PropertyCard";const S=e=>{let{property:t,onClose:a}=e;return(0,y.jsxs)(r.P.div,{className:"modal-portal",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,y.jsx)(r.P.div,{className:"modal-backdrop",onClick:a}),(0,y.jsxs)(r.P.div,{className:"modal-panel glass-strong",role:"dialog","aria-modal":"true","aria-label":t.title,initial:{y:60,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1,transition:{duration:.6,ease:[.25,.1,.25,1]}},exit:{y:40,opacity:0,scale:.92,transition:{duration:.4}},children:[(0,y.jsx)("button",{className:"modal-close",onClick:a,"aria-label":"Close",children:"\xd7"}),(0,y.jsx)("div",{className:"modal-media",style:{backgroundImage:"url(".concat(t.image,")")}}),(0,y.jsxs)("div",{className:"modal-body",children:[(0,y.jsx)("h3",{className:"modal-title",children:t.title}),(0,y.jsx)("div",{className:"modal-price",children:w(t.price)}),(0,y.jsxs)("div",{className:"modal-meta",children:[t.beds," BD \u2022 ",t.baths," BA \u2022 ",t.size.toLocaleString()," SF \u2022 ",t.location]}),(0,y.jsx)("p",{style:{color:"var(--color-neutral-300)",lineHeight:1.5,marginTop:"1rem"},children:t.blurb}),(0,y.jsxs)("div",{className:"modal-actions",children:[(0,y.jsx)("button",{className:"cta",children:"Request Viewing"}),(0,y.jsx)("button",{className:"cta btn-outline",onClick:a,children:"Close"})]})]})]})]})},A=e=>{let{items:t,onSelect:a}=e;const[r,n]=(0,i.useState)(t),l=(0,i.useRef)(!1);(0,i.useEffect)(()=>{n(t),l.current=!1},[t]);const c=(0,i.useCallback)(()=>{n(e=>{if(!e.length)return e;const t=[...e],a=t.pop();return a?(t.unshift((0,s.A)((0,s.A)({},a),{},{_cycle:(a._cycle||0)+1})),t):e})},[]);return(0,y.jsx)("div",{className:"swipe-deck",children:r.map((e,t)=>(0,y.jsx)(E,{card:e,index:t,deckLength:r.length,isTop:t===r.length-1,onSelect:a,cycleTop:c,animatingRef:l},"".concat(e.id,"-").concat(e._cycle||0)))})},E=e=>{let{card:t,index:a,deckLength:s,isTop:n,onSelect:c,cycleTop:o,animatingRef:d}=e;const p=u(0),m=(0,l.I)(),h=f(p,[-300,300],m?[0,0]:[-18,18]),g=(0,b.s)(),x=(0,i.useRef)(!1);(0,i.useEffect)(()=>(x.current=!0,()=>{x.current=!1}),[]),(0,i.useEffect)(()=>{x.current&&g.start({scale:1-.028*(s-1-a),y:16*(s-1-a),opacity:1,transition:{duration:.55,ease:[.16,1,.3,1]}})},[g,s,a]);const v=t;return(0,y.jsx)(r.P.div,{className:"swipe-card glass-strong ".concat(n?"top":""),style:{backgroundImage:"url(".concat(v.image,"&q=60)"),zIndex:10+a,x:p,rotate:h},initial:{scale:.94,y:40,opacity:0},drag:!!n&&"x",dragConstraints:{left:0,right:0},dragElastic:.22,onDragEnd:(e,t)=>{if(!n||d.current)return;const a=t.velocity.x,s=t.offset.x,i=s>0?1:-1;Math.abs(s)>120||Math.abs(a)>650?(d.current=!0,x.current&&g.start({x:i*(window.innerWidth+260),y:-140,rotate:26*i,scale:1.05,transition:{duration:.55,ease:[.16,1,.3,1]}}).then(()=>{x.current&&(o(),d.current=!1)})):x.current&&g.start({x:0,y:0,rotate:0,scale:1,transition:{type:"spring",stiffness:420,damping:28}})},whileDrag:m?void 0:{scale:1.04,y:-4},onDoubleClick:()=>c(v),animate:g,transition:{layout:{duration:.45,ease:[.25,.1,.25,1]}},children:(0,y.jsxs)("div",{className:"swipe-card-overlay",children:[(0,y.jsxs)("div",{className:"swipe-meta",children:[(0,y.jsx)("span",{className:"badge",style:{marginBottom:".6rem"},children:v.type}),(0,y.jsx)("h3",{children:v.title}),(0,y.jsx)("p",{className:"loc",children:v.location}),(0,y.jsx)("p",{className:"price-line",children:w(v.price)}),(0,y.jsxs)("div",{className:"mini-meta",children:[v.beds," BD \u2022 ",v.baths," BA \u2022 ",v.size.toLocaleString()," SF"]})]}),(0,y.jsx)("div",{className:"swipe-actions",children:(0,y.jsx)("button",{className:"cta small",onClick:()=>c(v),children:"Details"})})]})})},L=()=>{const[e,t]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,o]=(0,i.useState)(""),[d,u]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),h=j.reduce((e,t)=>e+t.price,0),g=(0,i.useRef)(null),[f,x]=(0,i.useState)("grid"),[b,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=null;const t=()=>{e||(e=requestAnimationFrame(()=>{w(window.innerWidth<640),e=null}))};return t(),window.addEventListener("resize",t,{passive:!0}),()=>{window.removeEventListener("resize",t),e&&cancelAnimationFrame(e)}},[]),(0,i.useEffect)(()=>{b?x("swipe"):"swipe"===f&&x("grid")},[b]);const N=(0,i.useMemo)(()=>{let t=j.filter(t=>(!a||t.type===a)&&(!e||t.title.toLowerCase().includes(e.toLowerCase())||t.location.toLowerCase().includes(e.toLowerCase())));return"price-asc"===c&&(t=[...t].sort((e,t)=>e.price-t.price)),"price-desc"===c&&(t=[...t].sort((e,t)=>t.price-e.price)),t},[e,a,c]);return(0,i.useEffect)(()=>{const e=g.current;if(!e)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(m(!0),t.disconnect())})},{threshold:.4});return t.observe(e),()=>t.disconnect()},[]),(0,y.jsxs)("section",{id:"portfolio",className:"properties-section section-pad",children:[(0,y.jsx)("div",{className:"section-bg-fade"}),(0,y.jsxs)("div",{className:"container",children:[(0,y.jsxs)(r.P.div,{initial:"initial",animate:"animate",variants:v.HI.staggerContainer,children:[(0,y.jsx)(r.P.h2,{className:"section-heading",variants:v.HI.revealLuxury,children:"Featured Portfolio"}),(0,y.jsx)(r.P.p,{className:"subheading",style:{marginBottom:"2.2rem"},variants:v.HI.revealLuxury,children:"A curated selection of distinguished residences exemplifying craftsmanship, location advantage and asset resilience."})]}),(0,y.jsxs)("div",{className:"portfolio-top-bar",children:[(0,y.jsx)("div",{className:"filters-inline",children:["","Penthouse","Villa","Estate","Loft","Residence"].map(e=>(0,y.jsx)("button",{className:"filter-pill ".concat(e===a?"active":""),onClick:()=>l(e),children:e||"All"},e||"All"))}),(0,y.jsxs)("div",{className:"filter-bar refined",children:[(0,y.jsx)("input",{placeholder:"Search title/location",value:e,onChange:e=>t(e.target.value)}),(0,y.jsxs)("select",{value:c,onChange:e=>o(e.target.value),children:[(0,y.jsx)("option",{value:"",children:"Sort"}),(0,y.jsx)("option",{value:"price-asc",children:"Price \u2191"}),(0,y.jsx)("option",{value:"price-desc",children:"Price \u2193"})]}),(0,y.jsx)("button",{type:"button",className:"filter-pill",style:(0,s.A)({fontWeight:600},"swipe"===f?{boxShadow:"0 0 0 1px rgba(212,175,55,.4)",borderColor:"rgba(212,175,55,.6)",color:"var(--color-neutral-100)",background:"rgba(212,175,55,0.25)"}:{}),onClick:()=>x(e=>"grid"===e?"swipe":"grid"),children:"swipe"===f?"Grid Mode":"Swipe Mode"})]})]}),(0,y.jsx)(C,{show:p,statsRef:g,total:h,count:j.length}),"grid"===f&&(0,y.jsx)(r.P.div,{className:"grid properties-grid mosaic responsive",layout:!0,initial:"initial",animate:"animate",variants:v.HI.staggerContainer,children:N.map((e,t)=>(0,y.jsx)(k,{property:e,index:t,feature:0===t,onQuickView:()=>u(e)},e.id))}),"swipe"===f&&(0,y.jsx)(A,{items:N,onSelect:u})]}),(0,y.jsx)(n.N,{children:d&&(0,y.jsx)(S,{property:d,onClose:()=>u(null)})})]})}}}]);
//# sourceMappingURL=properties-chunk.0e087901.chunk.js.map
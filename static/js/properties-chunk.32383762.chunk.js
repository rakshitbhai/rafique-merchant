"use strict";(self.webpackChunkrafiq_merchant=self.webpackChunkrafiq_merchant||[]).push([[568],{3304:(e,t,i)=>{i.r(t),i.d(t,{default:()=>z});var a=i(8),n=i(5043),s=i(3440),r=i(3546),o=i(111),c=i(496),l=i(3986);const d=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];var p=Object.defineProperty,u=(e,t,i)=>((e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!==typeof t?t+"":t,i),h=new Map,m=new WeakMap,g=0,w=void 0;function f(e){return Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{return"".concat(t,"_").concat("root"===t?(i=e.root)?(m.has(i)||(g+=1,m.set(i,g.toString())),m.get(i)):"0":e[t]);var i}).toString()}function v(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;if("undefined"===typeof window.IntersectionObserver&&void 0!==a){const n=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:n,observer:s,elements:r}=function(e){const t=f(e);let i=h.get(t);if(!i){const a=new Map;let n;const s=new IntersectionObserver(t=>{t.forEach(t=>{var i;const s=t.isIntersecting&&n.some(e=>t.intersectionRatio>=e);e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=s),null==(i=a.get(t.target))||i.forEach(e=>{e(s,t)})})},e);n=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:s,elements:a},h.set(t,i)}return i}(i),o=r.get(e)||[];return r.has(e)||r.set(e,o),o.push(t),s.observe(e),function(){o.splice(o.indexOf(t),1),0===o.length&&(r.delete(e),s.unobserve(e)),0===r.size&&(s.disconnect(),h.delete(n))}}n.Component;function b(){let{threshold:e,delay:t,trackVisibility:i,rootMargin:a,root:s,triggerOnce:r,skip:o,initialInView:c,fallbackInView:l,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var p;const[u,h]=n.useState(null),m=n.useRef(d),[g,w]=n.useState({inView:!!c,entry:void 0});m.current=d,n.useEffect(()=>{if(o||!u)return;let n;return n=v(u,(e,t)=>{w({inView:e,entry:t}),m.current&&m.current(e,t),t.isIntersecting&&r&&n&&(n(),n=void 0)},{root:s,rootMargin:a,threshold:e,trackVisibility:i,delay:t},l),()=>{n&&n()}},[Array.isArray(e)?e.toString():e,u,s,a,r,o,i,l,t]);const f=null==(p=g.entry)?void 0:p.target,b=n.useRef(void 0);u||!f||r||o||b.current===f||(b.current=f,w({inView:!!c,entry:void 0}));const x=[h,g.inView,g.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}var x=i(3928),y=i(579);const j="auto=format&fit=crop&q=70",k=[{id:1,title:"Skyline Penthouse",location:"Downtown Core",price:54e5,type:"Penthouse",beds:4,baths:5,size:6200,image:"https://images.unsplash.com/photo-1502005097973-6a7082348e28",blurb:"Glass-framed panoramic city vistas with private roof deck and spa."},{id:2,title:"Coastal Glass Villa",location:"Azure Coast",price:87e5,type:"Villa",beds:6,baths:7,size:9800,image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c",blurb:"Seamless indoor-outdoor flow, infinity edge pool and ocean horizon."},{id:3,title:"Modern Heritage Estate",location:"Old Ridge",price:125e5,type:"Estate",beds:8,baths:9,size:15200,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750",blurb:"Restored classical detailing integrated with advanced sustainability systems."},{id:4,title:"Lakeview Retreat",location:"Emerald Lake",price:46e5,type:"Villa",beds:5,baths:5,size:7200,image:"https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c",blurb:"Timber-accented serenity with private dock and cantilevered terrace."},{id:5,title:"Urban Luxe Loft",location:"Arts District",price:21e5,type:"Loft",beds:2,baths:2,size:2800,image:"https://images.unsplash.com/photo-1554995207-c18c203602cb",blurb:"Double-height volume, industrial beams, curated gallery illumination."},{id:6,title:"Desert Horizon Residence",location:"Sunspire Dunes",price:69e5,type:"Residence",beds:5,baths:6,size:8400,image:"https://images.unsplash.com/photo-1479839672679-a46483c0e7c8",blurb:"Thermal-mass architecture oriented for passive cooling and sunrise framing."}],S=(0,n.lazy)(()=>i.e(504).then(i.bind(i,7614))),C=(0,n.lazy)(()=>i.e(607).then(i.bind(i,1110))),V=e=>{let{target:t,prefix:i="",duration:a=1400}=e;const[s,r]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=null;const i=t,n=t=>{e||(e=t);const s=Math.min(1,(t-e)/a),o=1-Math.pow(1-s,3);r(Math.round(0+(i-0)*o)),s<1&&requestAnimationFrame(n)};requestAnimationFrame(n)},[t,a]),(0,y.jsxs)("span",{children:[i,s.toLocaleString()]})},N=e=>{let{show:t,statsRef:i,total:a,count:n}=e;const r=(0,o.I)();return(0,y.jsx)(s.P.div,{ref:i,className:"portfolio-stats","aria-hidden":!t,variants:c.HI.cascadeParent,initial:"initial",animate:t?"animate":"initial",children:[{label:"Assets Curated",value:t?(0,y.jsx)(V,{target:n}):(0,y.jsx)("span",{children:"0"})},{label:"Aggregate Value",value:t?(0,y.jsx)(V,{target:a,prefix:"$"}):(0,y.jsx)("span",{children:"$0"})},{label:"Global Categories",value:t?(0,y.jsx)(V,{target:5}):(0,y.jsx)("span",{children:"0"})}].map(e=>(0,y.jsxs)(s.P.div,{className:"stat-block",variants:r?void 0:c.HI.cascadeItem,children:[(0,y.jsx)("label",{children:e.label}),e.value]},e.label))})},I=(0,n.memo)(e=>{let{property:t,index:i,feature:a=!1,onQuickView:r}=e;const{id:o,image:l,title:d,price:p,location:u,type:h,beds:m,baths:g,size:w}=t,[f,v]=(0,n.useState)(!1),b=a?1400:900,k="".concat(l,"?w=").concat(b,"&").concat(j,"&fm=jpg"),S="".concat(l,"?w=480&").concat(j,"&fm=jpg 480w, ").concat(l,"?w=720&").concat(j,"&fm=jpg 720w, ").concat(l,"?w=900&").concat(j,"&fm=jpg 900w, ").concat(l,"?w=1400&").concat(j,"&fm=jpg 1400w"),C="".concat(l,"?w=480&").concat(j,"&fm=webp 480w, ").concat(l,"?w=720&").concat(j,"&fm=webp 720w, ").concat(l,"?w=900&").concat(j,"&fm=webp 900w, ").concat(l,"?w=1400&").concat(j,"&fm=webp 1400w"),V="".concat(l,"?w=480&").concat(j,"&fm=avif 480w, ").concat(l,"?w=720&").concat(j,"&fm=avif 720w, ").concat(l,"?w=900&").concat(j,"&fm=avif 900w, ").concat(l,"?w=1400&").concat(j,"&fm=avif 1400w"),N="".concat(l,"?w=80&blur=80&auto=format&q=20");return(0,y.jsxs)(s.P.article,{className:"card glass-strong ".concat(a?"feature-card":""),"aria-labelledby":"prop-".concat(o,"-title"),variants:c.HI.propertyCard,layout:!0,whileHover:"hover",whileTap:"tap",style:{"--card-index":i},children:[!f&&(0,y.jsx)("div",{className:"card-skeleton",children:(0,y.jsx)("div",{className:"skel-shimmer"})}),(0,y.jsxs)(s.P.figure,{className:"card-media",variants:c.HI.propertyCardMedia,style:{margin:0},children:[(0,y.jsxs)("picture",{children:[(0,y.jsx)("source",{type:"image/avif",srcSet:V,sizes:a?"(min-width: 1100px) 560px, (min-width:640px) 50vw, 100vw":"(min-width:900px) 320px, (min-width:640px) 33vw, 100vw"}),(0,y.jsx)("source",{type:"image/webp",srcSet:C,sizes:a?"(min-width: 1100px) 560px, (min-width:640px) 50vw, 100vw":"(min-width:900px) 320px, (min-width:640px) 33vw, 100vw"}),(0,y.jsx)("img",{src:k,srcSet:S,sizes:a?"(min-width: 1100px) 560px, (min-width:640px) 50vw, 100vw":"(min-width:900px) 320px, (min-width:640px) 33vw, 100vw",alt:d,loading:"lazy",decoding:"async",onLoad:()=>v(!0),style:{width:"100%",height:"100%",objectFit:"cover",opacity:f?1:.15,transition:"opacity 600ms ease",filter:f?"none":"blur(14px) saturate(120%)"}})]}),!f&&(0,y.jsx)("div",{"aria-hidden":"true",style:{position:"absolute",inset:0,backgroundImage:"url(".concat(N,")"),backgroundSize:"cover",backgroundPosition:"center",filter:"blur(20px) saturate(140%)",transition:"opacity 400ms ease",opacity:.9}})]}),(0,y.jsxs)("div",{className:"card-content",children:[(0,y.jsx)("span",{className:"badge",children:h}),(0,y.jsx)("h3",{id:"prop-".concat(o,"-title"),style:{margin:"0.9rem 0 .4rem",fontSize:a?"1.65rem":"1.25rem",fontWeight:500},children:d}),(0,y.jsx)("div",{className:"price",children:(0,x.$)(p)}),(0,y.jsx)("div",{className:"location",children:u}),(0,y.jsxs)("div",{className:"card-meta-row",children:[(0,y.jsxs)("span",{children:[m," BD"]}),(0,y.jsxs)("span",{children:[g," BA"]}),(0,y.jsxs)("span",{children:[w.toLocaleString()," SF"]})]})]}),(0,y.jsx)("button",{type:"button",className:"quick-view-tag","aria-label":"View details for ".concat(d),onClick:r,children:"View"})]})});I.displayName="PropertyCard";const z=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),[p,u]=(0,n.useState)(null),[h,m]=(0,n.useState)(!1),g=k.reduce((e,t)=>e+t.price,0),w=(0,n.useRef)(null),[f,v]=(0,n.useState)("grid"),{ref:x,inView:j}=b({triggerOnce:!0,threshold:.3}),{ref:V,inView:z}=b({triggerOnce:!1,threshold:.2}),[L,P]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=null;const t=()=>{e||(e=requestAnimationFrame(()=>{P(window.innerWidth<640),e=null}))};return t(),window.addEventListener("resize",t,{passive:!0}),()=>{window.removeEventListener("resize",t),e&&cancelAnimationFrame(e)}},[]),(0,n.useEffect)(()=>{L?v("swipe"):"swipe"===f&&v("grid")},[L]);const A=(0,n.useMemo)(()=>{let t=k.filter(t=>(!i||t.type===i)&&(!e||t.title.toLowerCase().includes(e.toLowerCase())||t.location.toLowerCase().includes(e.toLowerCase())));return"price-asc"===l&&(t=[...t].sort((e,t)=>e.price-t.price)),"price-desc"===l&&(t=[...t].sort((e,t)=>t.price-e.price)),t},[e,i,l]);return(0,n.useEffect)(()=>{const e=w.current;if(!e)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(m(!0),t.disconnect())})},{threshold:.4});return t.observe(e),()=>t.disconnect()},[]),(0,y.jsxs)("section",{id:"portfolio",className:"properties-section section-pad",children:[(0,y.jsx)("div",{className:"section-bg-fade"}),(0,y.jsxs)("div",{className:"container",children:[(0,y.jsxs)(s.P.div,{initial:"initial",animate:"animate",variants:c.HI.staggerContainer,children:[(0,y.jsx)(s.P.h2,{className:"section-heading",variants:c.HI.revealLuxury,children:"Featured Portfolio"}),(0,y.jsx)(s.P.p,{className:"subheading",style:{marginBottom:"2.2rem"},variants:c.HI.revealLuxury,children:"A curated selection of distinguished residences exemplifying craftsmanship, location advantage and asset resilience."})]}),(0,y.jsxs)("div",{className:"portfolio-top-bar",children:[(0,y.jsx)("div",{className:"filters-inline",children:["","Penthouse","Villa","Estate","Loft","Residence"].map(e=>(0,y.jsx)("button",{className:"filter-pill ".concat(e===i?"active":""),onClick:()=>o(e),children:e||"All"},e||"All"))}),(0,y.jsxs)("div",{className:"filter-bar refined",children:[(0,y.jsx)("input",{placeholder:"Search title/location",value:e,onChange:e=>t(e.target.value)}),(0,y.jsxs)("select",{value:l,onChange:e=>d(e.target.value),children:[(0,y.jsx)("option",{value:"",children:"Sort"}),(0,y.jsx)("option",{value:"price-asc",children:"Price \u2191"}),(0,y.jsx)("option",{value:"price-desc",children:"Price \u2193"})]}),(0,y.jsx)("button",{type:"button",className:"filter-pill",style:(0,a.A)({fontWeight:600},"swipe"===f?{boxShadow:"0 0 0 1px rgba(212,175,55,.4)",borderColor:"rgba(212,175,55,.6)",color:"var(--color-neutral-100)",background:"rgba(212,175,55,0.25)"}:{}),onClick:()=>v(e=>"grid"===e?"swipe":"grid"),children:"swipe"===f?"Grid Mode":"Swipe Mode"})]})]}),!("swipe"===f&&L)&&(0,y.jsx)("div",{ref:x,children:j&&(0,y.jsx)(N,{show:h,statsRef:w,total:g,count:k.length})}),"grid"===f&&(0,y.jsx)(s.P.div,{className:"grid properties-grid mosaic responsive",layout:!0,initial:"initial",animate:"animate",variants:c.HI.staggerContainer,children:A.map((e,t)=>(0,y.jsx)(I,{property:e,index:t,feature:0===t,onQuickView:()=>u(e)},e.id))}),"swipe"===f&&(0,y.jsx)("div",{ref:V,children:z&&(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)("div",{style:{height:520,display:"grid",placeItems:"center",fontSize:".6rem",letterSpacing:".3em",textTransform:"uppercase",color:"var(--color-neutral-500)"},children:"Loading deck\u2026"}),children:(0,y.jsx)(C,{items:A,onSelect:u})})})]}),(0,y.jsx)(r.N,{children:p&&(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(S,{property:p,onClose:()=>u(null)})})})]})}},3928:(e,t,i)=>{i.d(t,{$:()=>a});const a=e=>"$"+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]);
//# sourceMappingURL=properties-chunk.32383762.chunk.js.map
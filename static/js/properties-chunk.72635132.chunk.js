"use strict";(self.webpackChunkrafiq_merchant=self.webpackChunkrafiq_merchant||[]).push([[568],{3304:(e,t,i)=>{i.r(t),i.d(t,{default:()=>z});var a=i(8),r=i(5043),s=i(3440),n=i(3546),o=i(111),l=i(6549),c=i(3986);const d=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];var p=Object.defineProperty,u=(e,t,i)=>((e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!==typeof t?t+"":t,i),h=new Map,g=new WeakMap,m=0,f=void 0;function b(e){return Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{return"".concat(t,"_").concat("root"===t?(i=e.root)?(g.has(i)||(m+=1,g.set(i,m.toString())),g.get(i)):"0":e[t]);var i}).toString()}function v(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f;if("undefined"===typeof window.IntersectionObserver&&void 0!==a){const r=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}const{id:r,observer:s,elements:n}=function(e){const t=b(e);let i=h.get(t);if(!i){const a=new Map;let r;const s=new IntersectionObserver(t=>{t.forEach(t=>{var i;const s=t.isIntersecting&&r.some(e=>t.intersectionRatio>=e);e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=s),null==(i=a.get(t.target))||i.forEach(e=>{e(s,t)})})},e);r=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:s,elements:a},h.set(t,i)}return i}(i),o=n.get(e)||[];return n.has(e)||n.set(e,o),o.push(t),s.observe(e),function(){o.splice(o.indexOf(t),1),0===o.length&&(n.delete(e),s.unobserve(e)),0===n.size&&(s.disconnect(),h.delete(r))}}r.Component;function y(){let{threshold:e,delay:t,trackVisibility:i,rootMargin:a,root:s,triggerOnce:n,skip:o,initialInView:l,fallbackInView:c,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var p;const[u,h]=r.useState(null),g=r.useRef(d),[m,f]=r.useState({inView:!!l,entry:void 0});g.current=d,r.useEffect(()=>{if(o||!u)return;let r;return r=v(u,(e,t)=>{f({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&n&&r&&(r(),r=void 0)},{root:s,rootMargin:a,threshold:e,trackVisibility:i,delay:t},c),()=>{r&&r()}},[Array.isArray(e)?e.toString():e,u,s,a,n,o,i,c,t]);const b=null==(p=m.entry)?void 0:p.target,y=r.useRef(void 0);u||!b||n||o||y.current===b||(y.current=b,f({inView:!!l,entry:void 0}));const x=[h,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}var x=i(3928),w=i(1345),j=i(579);const k=[{id:1,title:"Skyline Penthouse",location:"Downtown Core",price:54e5,type:"Penthouse",beds:4,baths:5,size:6200,image:"https://images.unsplash.com/photo-1502005097973-6a7082348e28",blurb:"Glass-framed panoramic city vistas with private roof deck and spa."},{id:2,title:"Coastal Glass Villa",location:"Azure Coast",price:87e5,type:"Villa",beds:6,baths:7,size:9800,image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c",blurb:"Seamless indoor-outdoor flow, infinity edge pool and ocean horizon."},{id:3,title:"Modern Heritage Estate",location:"Old Ridge",price:125e5,type:"Estate",beds:8,baths:9,size:15200,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750",blurb:"Restored classical detailing integrated with advanced sustainability systems."},{id:4,title:"Lakeview Retreat",location:"Emerald Lake",price:46e5,type:"Villa",beds:5,baths:5,size:7200,image:"https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c",blurb:"Timber-accented serenity with private dock and cantilevered terrace."},{id:5,title:"Urban Luxe Loft",location:"Arts District",price:21e5,type:"Loft",beds:2,baths:2,size:2800,image:"https://images.unsplash.com/photo-1554995207-c18c203602cb",blurb:"Double-height volume, industrial beams, curated gallery illumination."},{id:6,title:"Desert Horizon Residence",location:"Sunspire Dunes",price:69e5,type:"Residence",beds:5,baths:6,size:8400,image:"https://images.unsplash.com/photo-1479839672679-a46483c0e7c8",blurb:"Thermal-mass architecture oriented for passive cooling and sunrise framing."}],S=(0,r.lazy)(()=>i.e(504).then(i.bind(i,7614))),C=(0,r.lazy)(()=>i.e(607).then(i.bind(i,1110))),I=e=>{let{target:t,prefix:i="",duration:a=1400}=e;const[s,n]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=null;const i=t,r=t=>{e||(e=t);const s=Math.min(1,(t-e)/a),o=1-Math.pow(1-s,3);n(Math.round(0+(i-0)*o)),s<1&&requestAnimationFrame(r)};requestAnimationFrame(r)},[t,a]),(0,j.jsxs)("span",{children:[i,s.toLocaleString()]})},N=e=>{let{show:t,statsRef:i,total:a,count:r}=e;const n=(0,o.I)();return(0,j.jsx)(s.P.div,{ref:i,className:"portfolio-stats","aria-hidden":!t,variants:l.HI.cascadeParent,initial:"initial",animate:t?"animate":"initial",children:[{label:"Assets Curated",value:t?(0,j.jsx)(I,{target:r}):(0,j.jsx)("span",{children:"0"})},{label:"Aggregate Value",value:t?(0,j.jsx)(I,{target:a,prefix:"$"}):(0,j.jsx)("span",{children:"$0"})},{label:"Global Categories",value:t?(0,j.jsx)(I,{target:5}):(0,j.jsx)("span",{children:"0"})}].map(e=>(0,j.jsxs)(s.P.div,{className:"stat-block",variants:n?void 0:l.HI.cascadeItem,children:[(0,j.jsx)("label",{children:e.label}),e.value]},e.label))})},V=(0,r.memo)(e=>{let{property:t,index:i,feature:a=!1,onQuickView:n}=e;const{id:o,image:c,title:d,price:p,location:u,type:h,beds:g,baths:m,size:f}=t,[b,v]=(0,r.useState)(!1),[y,k]=(0,r.useState)(!1),S=(0,r.useRef)(null),{urls:C}=(0,w.EO)(c,{widths:a?[480,720,900,1400]:[320,480,720,900],formats:["avif","webp","jpg"],quality:a?75:70}),I=a?C.sizes.feature:C.sizes.card;(0,r.useEffect)(()=>{i<3&&(w.Hp.markStart("preload-".concat(o)),w.oF.preloadImage(C.base,"high").then(()=>w.Hp.markEnd("preload-".concat(o))).catch(()=>k(!0)))},[C.base,i,o]);const N=(0,r.useCallback)(()=>{v(!0),w.Hp.markEnd("image-load-".concat(o))},[o]),V=(0,r.useCallback)(()=>{k(!0),v(!0)},[]);return(0,r.useEffect)(()=>{w.Hp.markStart("image-load-".concat(o))},[o]),(0,j.jsxs)(s.P.article,{className:"card glass-strong ".concat(a?"feature-card":""),"aria-labelledby":"prop-".concat(o,"-title"),variants:l.HI.propertyCard,layout:!0,whileHover:"hover",whileTap:"tap",style:{"--card-index":i},children:[!b&&!y&&(0,j.jsx)("div",{className:"card-skeleton",children:(0,j.jsx)("div",{className:"skel-shimmer"})}),(0,j.jsxs)(s.P.figure,{className:"card-media",variants:l.HI.propertyCardMedia,style:{margin:0},children:[y?(0,j.jsx)("div",{className:"image-error-fallback",style:{width:"100%",height:"100%",background:"linear-gradient(135deg, var(--color-neutral-800), var(--color-neutral-700))",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-neutral-400)",fontSize:"0.8rem"},children:"Image unavailable"}):(0,j.jsxs)("picture",{children:[(0,j.jsx)("source",{type:"image/avif",srcSet:C.srcSets.avif,sizes:I}),(0,j.jsx)("source",{type:"image/webp",srcSet:C.srcSets.webp,sizes:I}),(0,j.jsx)("img",{ref:S,src:C.base,srcSet:C.srcSets.jpg,sizes:I,alt:d,loading:i<2?"eager":"lazy",decoding:"async",fetchPriority:a?"high":"low",onLoad:N,onError:V,style:{width:"100%",height:"100%",objectFit:"cover",opacity:b?1:0,transition:"opacity 400ms ease",willChange:b?"auto":"opacity"}})]}),!b&&!y&&(0,j.jsx)("div",{"aria-hidden":"true",style:{position:"absolute",inset:0,backgroundImage:"url(".concat(C.lowQuality,")"),backgroundSize:"cover",backgroundPosition:"center",filter:"blur(20px) saturate(140%)",transition:"opacity 400ms ease",opacity:.7,willChange:"opacity"}})]}),(0,j.jsxs)("div",{className:"card-content",children:[(0,j.jsx)("span",{className:"badge",children:h}),(0,j.jsx)("h3",{id:"prop-".concat(o,"-title"),style:{margin:"0.9rem 0 .4rem",fontSize:a?"1.65rem":"1.25rem",fontWeight:500},children:d}),(0,j.jsx)("div",{className:"price",children:(0,x.$)(p)}),(0,j.jsx)("div",{className:"location",children:u}),(0,j.jsxs)("div",{className:"card-meta-row",children:[(0,j.jsxs)("span",{children:[g," BD"]}),(0,j.jsxs)("span",{children:[m," BA"]}),(0,j.jsxs)("span",{children:[f.toLocaleString()," SF"]})]})]}),(0,j.jsx)("button",{type:"button",className:"quick-view-tag","aria-label":"View details for ".concat(d),onClick:n,children:"View"})]})});V.displayName="PropertyCard";const z=()=>{const[e,t]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[p,u]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1),m=k.reduce((e,t)=>e+t.price,0),f=(0,r.useRef)(null),[b,v]=(0,r.useState)("grid"),{ref:x,inView:I}=y({triggerOnce:!0,threshold:.3}),{ref:z,inView:E}=y({triggerOnce:!1,threshold:.2}),[H,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{w.Hp.markStart("properties-load");const e=k.slice(0,3).map(e=>e.image).map(e=>w.oF.getImageUrls(e,{quality:75}).base);return w.oF.preloadSequence(e,0,3).then(()=>w.Hp.markEnd("properties-load")).catch(console.warn),()=>{if("undefined"!==typeof performance)try{performance.clearMarks("properties-load-start"),performance.clearMarks("properties-load-end")}catch(e){}}},[]),(0,r.useEffect)(()=>{let e=null;const t=()=>{e||(e=requestAnimationFrame(()=>{P(window.innerWidth<640),e=null}))};return t(),window.addEventListener("resize",t,{passive:!0}),()=>{window.removeEventListener("resize",t),e&&cancelAnimationFrame(e)}},[]),(0,r.useEffect)(()=>{H?v("swipe"):"swipe"===b&&v("grid")},[H]);const L=(0,r.useMemo)(()=>{w.Hp.markStart("filter-properties");let t=k.filter(t=>(!i||t.type===i)&&(!e||t.title.toLowerCase().includes(e.toLowerCase())||t.location.toLowerCase().includes(e.toLowerCase())));return"price-asc"===c&&(t=[...t].sort((e,t)=>e.price-t.price)),"price-desc"===c&&(t=[...t].sort((e,t)=>t.price-e.price)),w.Hp.markEnd("filter-properties"),t},[e,i,c]);return(0,r.useEffect)(()=>{const e=f.current;if(!e)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(g(!0),t.disconnect())})},{threshold:.4,rootMargin:"50px"});return t.observe(e),()=>t.disconnect()},[]),(0,j.jsxs)("section",{id:"portfolio",className:"properties-section section-pad",children:[(0,j.jsx)("div",{className:"section-bg-fade"}),(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)(s.P.div,{initial:"initial",animate:"animate",variants:l.HI.staggerContainer,children:[(0,j.jsx)(s.P.h2,{className:"section-heading",variants:l.HI.revealLuxury,children:"Featured Portfolio"}),(0,j.jsx)(s.P.p,{className:"subheading",style:{marginBottom:"2.2rem"},variants:l.HI.revealLuxury,children:"A curated selection of distinguished residences exemplifying craftsmanship, location advantage and asset resilience."})]}),(0,j.jsxs)("div",{className:"portfolio-top-bar",children:[(0,j.jsx)("div",{className:"filters-inline",children:["","Penthouse","Villa","Estate","Loft","Residence"].map(e=>(0,j.jsx)("button",{className:"filter-pill ".concat(e===i?"active":""),onClick:()=>o(e),children:e||"All"},e||"All"))}),(0,j.jsxs)("div",{className:"filter-bar refined",children:[(0,j.jsx)("input",{placeholder:"Search title/location",value:e,onChange:e=>t(e.target.value)}),(0,j.jsxs)("select",{value:c,onChange:e=>d(e.target.value),children:[(0,j.jsx)("option",{value:"",children:"Sort"}),(0,j.jsx)("option",{value:"price-asc",children:"Price \u2191"}),(0,j.jsx)("option",{value:"price-desc",children:"Price \u2193"})]}),(0,j.jsx)("button",{type:"button",className:"filter-pill",style:(0,a.A)({fontWeight:600},"swipe"===b?{boxShadow:"0 0 0 1px rgba(212,175,55,.4)",borderColor:"rgba(212,175,55,.6)",color:"var(--color-neutral-100)",background:"rgba(212,175,55,0.25)"}:{}),onClick:()=>v(e=>"grid"===e?"swipe":"grid"),children:"swipe"===b?"Grid Mode":"Swipe Mode"})]})]}),!("swipe"===b&&H)&&(0,j.jsx)("div",{ref:x,children:I&&(0,j.jsx)(N,{show:h,statsRef:f,total:m,count:k.length})}),"grid"===b&&(0,j.jsx)(s.P.div,{className:"grid properties-grid mosaic responsive",layout:!0,initial:"initial",animate:"animate",variants:l.HI.staggerContainer,children:L.map((e,t)=>(0,j.jsx)(V,{property:e,index:t,feature:0===t,onQuickView:()=>u(e)},e.id))}),"swipe"===b&&(0,j.jsx)("div",{ref:z,children:E&&(0,j.jsx)(r.Suspense,{fallback:(0,j.jsx)("div",{style:{height:520,display:"grid",placeItems:"center",fontSize:".6rem",letterSpacing:".3em",textTransform:"uppercase",color:"var(--color-neutral-500)"},children:"Loading deck\u2026"}),children:(0,j.jsx)(C,{items:L,onSelect:u})})})]}),(0,j.jsx)(n.N,{children:p&&(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(S,{property:p,onClose:()=>u(null)})})})]})}},3928:(e,t,i)=>{i.d(t,{$:()=>a});const a=e=>"$"+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]);
//# sourceMappingURL=properties-chunk.72635132.chunk.js.map